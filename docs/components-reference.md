# Components リファレンス

このドキュメントは `src/components` 以下に存在する共通 React コンポーネントの一覧です。
新しいコンポーネントを作成する前に、既存の実装がないか確認してください。

## ディレクトリ構造

コンポーネントは**カテゴリ/機能グループ**の 2 階層で配置します。
機能グループは単一のコンポーネントではなく、関連するコンポーネントをまとめた意味のある単位です。

```text
src/components/
├── brands/
│   └── opengraph-image/       # OGP画像生成
├── controls/
│   └── pagination/            # ページネーション制御
├── decorations/
│   ├── effects/               # モーション・視覚効果
│   └── scroll-shadow/         # スクロールシャドウ
├── displays/                  # 将来用（データ表示コンポーネント）
├── feedback/
│   └── message/               # メッセージ表示
├── forms/
│   └── search-input/          # 検索入力フォーム
├── layouts/
│   ├── nav-bar/               # グローバルナビゲーションバー
│   └── page-header/           # 将来用
│   # 以下は直下に配置（サブディレクトリ化予定）
│   ├── container.tsx          # 基本コンテナ
│   ├── footer.tsx             # フッター
│   ├── page-header.tsx        # ページヘッダー
│   └── section.tsx            # セクションコンテナ
├── misc/
│   ├── google-ads/            # Google広告・アナリティクス
│   └── theme-switcher/        # テーマ切り替え
├── navigations/
│   └── link/                  # リンク関連コンポーネント
├── prefabs/                   # 将来用（特定用途向けパターン）
├── site/                      # サイト固有コンポーネント（移動予定）
│   ├── avatar.tsx
│   ├── full-profile.tsx
│   ├── profile.tsx
│   ├── sns-list.tsx
│   └── speech-bubble.tsx
├── typography/
│   # 以下は直下に配置（サブディレクトリ化予定）
│   ├── heading.tsx            # 見出し
│   └── paragraph.tsx          # 段落
└── ui/                        # shadcn/ui ベースの基本 UI パーツ（直下にファイルを配置）
    ├── button.tsx
    ├── input.tsx
    ├── select.tsx
    └── ...
```

### index.ts の配置ルール

- **カテゴリ直下には index.ts を置かない**
- **機能グループごとに index.ts を作成**し、そこから export する
- インポート時は機能グループから直接インポートする

```tsx
// ✅ Good: 機能グループから直接インポート
import { Pagination } from '@/components/controls/pagination'
import { ThemeSwitcher } from '@/components/misc/theme-switcher'

// ❌ Bad: カテゴリからインポート（カテゴリ直下に index.ts を置かない）
import { Pagination } from '@/components/controls'
```

### 機能グループの命名規則

- **機能グループ名は基本的に複数形**を使用する（例: `cards`, `containers`, `footers`）
- 将来的にコンポーネントが追加される可能性を考慮した命名とする
- 既存のコードベースには例外もあるが、新規作成時は複数形を優先する

新しいコンポーネントを追加する際は、下記のカテゴリ一覧を参照して適切なカテゴリを選択してください。

## カテゴリ一覧

| カテゴリ      | 配置すべきコンポーネント                                                               |
| ------------- | -------------------------------------------------------------------------------------- |
| `brands`      | OGP画像など、ブランドアイデンティティに関わるコンポーネント                            |
| `controls`    | ページネーション、検索コントロールなど、リストやテーブルを操作する UI                  |
| `decorations` | モーション効果、スクロール影など、視覚的な装飾効果                                     |
| `displays`    | ドキュメント表示、リスト表示など、データを表示するコンポーネント                       |
| `feedback`    | メッセージ表示など、状態やフィードバックを伝える UI                                    |
| `forms`       | フィルタ、ソート、検索入力など、ユーザー入力を受け付ける UI                            |
| `layouts`     | ナビゲーションバー、コンテナ、フッターなど、ページの骨格・構造を定義するコンポーネント |
| `misc`        | Google Analytics、テーマ切替など、特定カテゴリに属さないサイト機能                     |
| `navigations` | リンク、ナビゲーションなど、ページ間・ページ内の移動を担う UI                          |
| `prefabs`     | ブックマークリスト、タグ、サイトプロフィールなど、特定用途向けに構成した再利用パターン |
| `site`        | サイト固有のプロフィール関連コンポーネント（将来的に `prefabs` へ移動予定）            |
| `typography`  | 見出し、段落など、テキスト表示のためのコンポーネント                                   |
| `ui`          | shadcn/ui ベースの基本 UI パーツ。他のコンポーネントの構成要素として使用               |

---

## brands

| ディレクトリ             | 説明                                                                                                                       |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| `brands/opengraph-image` | OGP 用動的画像生成。Next.js ImageResponse でソーシャルメディア共有用画像を生成。主なエクスポート: `DocumentOpengraphImage` |

## controls

| ディレクトリ          | 説明                                                               |
| --------------------- | ------------------------------------------------------------------ |
| `controls/pagination` | ページネーション UI。`Pagination` を提供。ページ番号と件数を表示。 |

## decorations

| ディレクトリ                | 説明                                                                                                              |
| --------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| `decorations/effects`       | モーション・視覚効果コンポーネント。`FlowingGlow`（流れるグロー効果）、`HoverShimmer`（ホバーシマー効果）を提供。 |
| `decorations/scroll-shadow` | スクロール可能領域にグラデーション影を表示しスクロール方向を視覚化。主なエクスポート: `ScrollShadow`              |

## displays

| ディレクトリ | 説明                                                                   |
| ------------ | ---------------------------------------------------------------------- |
| `displays/`  | 将来用のカテゴリ。データ表示系コンポーネントを配置予定。現在は空です。 |

## feedback

| ディレクトリ       | 説明                                                                                           |
| ------------------ | ---------------------------------------------------------------------------------------------- |
| `feedback/message` | メッセージ表示。`NotFoundMessage`（未検出メッセージ）を提供。データ0件時の状態フィードバック。 |

## forms

| ディレクトリ         | 説明                                                          |
| -------------------- | ------------------------------------------------------------- |
| `forms/search-input` | 検索入力フォーム。`SearchInput`（検索入力フィールド）を提供。 |

## layouts

| ディレクトリ      | 説明                                                                                                                                                               |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `layouts/nav-bar` | グローバルナビゲーションバー。`NavBar`（メインナビゲーション）、`NavBarMenu`（メニュー）、`NavBarMenuFallback`（フォールバック）を含む。主なエクスポート: `NavBar` |
| `layouts/` 直下   | `Container`（基本コンテナ）、`Footer`（フッター）、`PageHeader`（ページヘッダー）、`Section`（セクションコンテナ）を提供。将来的にサブディレクトリ化予定。         |

## misc

| ディレクトリ          | 説明                                                                 |
| --------------------- | -------------------------------------------------------------------- |
| `misc/google-ads`     | Google 広告・アナリティクス。`GoogleAds`、`GoogleAdsScript` を提供。 |
| `misc/theme-switcher` | テーマ切り替え UI（dark/system/light）。`ThemeSwitcher` を提供。     |

## navigations

| ディレクトリ       | 説明                                                                                                      |
| ------------------ | --------------------------------------------------------------------------------------------------------- |
| `navigations/link` | リンク関連コンポーネント。`Link`（Next.js Link ラッパー）、`NextLink`（シンプルな Link ラッパー）を提供。 |

## prefabs

| ディレクトリ | 説明                                                                                                               |
| ------------ | ------------------------------------------------------------------------------------------------------------------ |
| `prefabs/`   | 将来用のカテゴリ。特定用途向けに構成した再利用パターン（複数コンポーネントの組み合わせ）を配置予定。現在は空です。 |

## site

| ディレクトリ | 説明                                                                                                                                                 |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| `site/`      | サイト固有のプロフィール関連コンポーネント。`Avatar`、`FullProfile`、`Profile`、`SnsList`、`SpeechBubble` を提供。将来的に適切なカテゴリへ移動予定。 |

## typography

| ディレクトリ  | 説明                                                                                          |
| ------------- | --------------------------------------------------------------------------------------------- |
| `typography/` | テキスト表示コンポーネント。`Heading`（h1/h2/h3 バリアント対応）、`Paragraph`（段落）を提供。 |

## ui

| ディレクトリ | 説明                                                                                                                                                                                    |
| ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ui/`        | shadcn/ui ベースの基本 UI コンポーネント集。`Button`、`Input`、`Select`、`Skeleton`、`Spinner`、`Pagination`、`ToggleGroup`、`Toggle`、`Tooltip`、`DropdownMenu` など基本パーツを提供。 |

---

# Features リファレンス

`src/features` 以下には、このプロジェクト専用の機能に関するコンポーネントを配置します。
汎用的な UI コンポーネントではなく、特定のビジネスロジックやドメイン知識に依存するコンポーネント群です。

## ディレクトリ構造

```text
src/features/
├── bookmark/                  # ブックマーク機能
│   ├── bookmark-filter.tsx
│   ├── bookmark-list.tsx
│   └── index.ts
├── document/                  # ドキュメント機能
│   ├── all-document-list.tsx
│   ├── document-dropdown-toc.tsx
│   ├── document-emoji.tsx
│   ├── document-filter.tsx
│   ├── document-header.tsx
│   ├── document-list-skeleton.tsx
│   ├── document-list.tsx
│   ├── document-toc.tsx
│   ├── document-total-count.tsx
│   ├── pickup-document-list.tsx
│   ├── recent-document-list.tsx
│   ├── sort-by-select.tsx
│   └── index.ts
└── tag/                       # タグ機能
    ├── color-circle.tsx
    ├── small-tag.tsx
    ├── tag-list.tsx
    └── index.ts
```

## 機能一覧

| ディレクトリ | 説明                                                                                                                                                                                                                                                                                                                                    |
| ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `bookmark/`  | ブックマーク機能。`BookmarkFilter`（フィルタ UI）、`BookmarkList`（ブックマーク一覧）を提供。                                                                                                                                                                                                                                           |
| `document/`  | ドキュメント機能。`DocumentList`（通常リスト）、`AllDocumentList`（全ドキュメント）、`RecentDocumentList`（最近のドキュメント）、`PickupDocumentList`（ピックアップ）、`DocumentHeader`、`DocumentToc`、`DocumentDropdownToc`、`DocumentEmoji`、`DocumentFilter`、`SortBySelect`、`DocumentTotalCount`、`DocumentListSkeleton` を提供。 |
| `tag/`       | タグ機能。`SmallTag`（小タグ）、`TagList`（タグ一覧）、`ColorCircle`（色サークル）を提供。                                                                                                                                                                                                                                              |

## components と features の使い分け

| 配置先       | 基準                                                                                   |
| ------------ | -------------------------------------------------------------------------------------- |
| `components` | 汎用的で再利用可能な UI コンポーネント。特定のビジネスロジックに依存しない。           |
| `features`   | プロジェクト固有の機能コンポーネント。特定のドメイン知識やビジネスロジックに依存する。 |

例えば：

- `Button`、`Input`、`Pagination` → `components/ui/` に配置
- `DocumentList`、`BookmarkFilter` → `features/` に配置（ドキュメントやブックマークというドメイン知識に依存）
